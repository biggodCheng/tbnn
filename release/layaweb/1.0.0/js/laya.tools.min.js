"use strict";
!function(n, t, a) {
    var e = (a.un,
    a.uns,
    a.static,
    a.class)
      , i = (a.getset,
    a.__newvec,
    laya.resource.Bitmap,
    laya.utils.Browser)
      , r = laya.events.Event
      , o = (laya.events.EventDispatcher,
    laya.utils.Handler,
    laya.net.LoaderManager,
    laya.maths.Rectangle,
    laya.renders.Render,
    laya.display.Sprite,
    laya.display.Stage,
    laya.resource.Texture,
    laya.utils.Utils,
    laya.webgl.WebGL,
    laya.webgl.WebGLContext,
    function() {
        function o() {}
        return e(o, "laya.tools"),
        o.analytics = function(t, a, e) {
            "undefined" != typeof n._hmt && n._hmt.push(["_trackEvent", t, a, e])
        }
        ,
        o.clickAnalyticsInit = function() {
            a.stage.on(r.CLICK, void 0, function(n) {
                if ("string" == typeof n.target.GA_CATEGORY) {
                    var t = n.target.GA_CATEGORY
                      , a = n.target.GA_ACTION || n.type
                      , e = GM.gameName || "自研游戏";
                    o.analytics(t, a, e)
                }
            })
        }
        ,
        o.monitorBackground = function(n, a) {
            var e = i.now()
              , r = a || 1e3;
            i.onAndriod ? !function() {
                var t = 0
                  , a = setInterval(function() {
                    var o = i.now();
                    o - e > r && (t > 1 ? (clearInterval(a),
                    "function" == typeof n && n()) : t += 1),
                    e = o
                }, 300)
            }() : !function() {
                var t = setInterval(function() {
                    var a = i.now();
                    a - e > r && (clearInterval(t),
                    "function" == typeof n && n()),
                    e = a
                }, 300)
            }(),
            t.addEventListener("visibilitychange", function() {
                var a = t.hidden;
                a && "function" == typeof n && n()
            })
        }
        ,
        o.landscapeModeBarInit = function() {
            n.native_ready = function() {
                return "landscape_right"
            }
            ,
            n.PAG_JS && "function" == typeof PAG_JS.setNativeBarDirection && (i.onAndriod ? PAG_JS.setNativeBarDirection("landscape_left") : i.onIOS)
        }
        ,
        o.__init$ = function() {}
        ,
        o
    }());
    a.__init([o])
}(window, document, Laya);
